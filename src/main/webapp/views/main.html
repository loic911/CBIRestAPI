<div ng-cloak>

    <div class="row">


            <div ng-switch="authenticated">

                <div class="container">
                    <div class="col-md-3"/>
                    <div class="col-md-6">
                        <h1 translate="main.title">Welcome to CBIRest!</h1>
                        <div ng-switch-when="true"
                             translate="main.logged.message" translate-values="{username: '{{account.login}}'}">
                            You are logged in as user "Admin"
                        </div>
                        <!--<span class="hipster img-responsive img-rounded"></span>-->
                        <img class="img-responsive img-thumbnail" src="images/cbir.png">
                    </div>
                    <div class="col-md-3"/>
                </div>

                <br/>
                <div ng-switch-when="true" class="container" ng-controller="SearchController">
                    <div class="container">
                        <form class="form-horizontal" ng-submit="startSearch()">
                            <div class="form-group">
                                <label for="inputUrlSearch" class="col-sm-2 control-label">Image URL</label>
                                <div class="col-sm-8">
                                    <input ng-model="urlSearch"  type="url" class="form-control" id="inputUrlSearch" placeholder="Copy image URL...">
                                </div>
                            </div>
                            <div class="form-group">
                                <label class="col-sm-2 control-label">OR</label>
                                <div class="col-sm-8">
                                </div>
                            </div>
                            <div class="form-group">
                                <label for="inputFileSearch" class="col-sm-2 control-label">Image Upload</label>
                                <div class="col-sm-8">
                                    <input ng-file-select="onFileSelect($files)" class="btn btn-default" type="file" name="file" id="inputFileSearch">
                                </div>
                            </div>
                            <div class="form-group">
                                <label for="inputStorageSearch" class="col-sm-2 control-label" >Storage</label>
                                <div class="col-sm-8">
                                    <select multiple="multiple" id="inputStorageSearch" class="form-control"
                                            ng-model="storagesSelected"
                                            ng-options="storage.id as storage.id for storage in storages">
                                    </select>
                                </div>
                            </div>
                            <div class="form-group">
                                <label for="inputMax" class="col-sm-2 control-label">Max</label>
                                <div class="col-sm-2">
                                    <input ng-model="maxSearch" type="number" name="max" id="inputMax" placeholder="">
                                </div>
                            </div>
                            <div class="form-group">
                                <div class="col-sm-offset-2 col-sm-10">
                                    <button type="submit" class="btn btn-default">Search</button>
                                </div>
                            </div>
                        </form>
                        <div class="alert alert-danger" ng-show="search.error">
                            {{search.error}}
                        </div>


                        <div class="container" ng-show="results" class="col-sm-10">
                            <div class="col-md-3"/>
                            <div class="col-md-6">
                                <img class="img-responsive img-thumbnail" ng-if="results" ng-src="/api/images/{{results.id}}/thumb.png?size=256&type=search">
                            </div>
                            <div class="col-md-3"/>
                        </div>
                        <br/>


                        <div ng-show="results" class="col-sm-10">
                            <!--{{results}}-->
                            <table class="table table-striped table-bordered">
                                <tr ng-repeat="item in results.data">
                                    <td data-title="'id'">{{item.id}}</td>
                                    <td data-title="'thumb'"><img ng-if="results" class="img-responsive img-thumbnail" ng-src="/api/images/{{item.id}}/thumb.png?size=128"></td>
                                    <td data-title="'similarities'">{{item.similarities}}</td>
                                    <td data-title="'properties'">{{item.properties}}</td>
                                </tr>

                            </table>
                        </div>

                    </div>

                </div>





                <div class="alert alert-warning" ng-switch-when="false" translate="global.messages.info.authenticated">
                    If you want to <a href="#/login">authenticate</a>, you can try the default login="admin" and
                    password="admin".
                </div>

                <div class="alert alert-warning" ng-switch-when="false" translate="global.messages.info.register">
                    Don't have an account? <a href=\"#/register\">Register</a>
                </div>


        </div>
    </div>
</div>
